# План реализации

- [ ] 1. Настройка проектной структуры и базовой инфраструктуры
  - Создать структуру проекта с frontend (Astro + React) и backend (Node.js + Express)
  - Настроить Docker контейнеры для разработки и деплоя
  - Инициализировать Git репозиторий с правильной структурой папок
  - _Требования: 10.1_

- [ ] 2. Настройка базы данных и Prisma ORM
  - Создать Prisma схему с моделями Appointment, Service, ServiceCategory, Contact, Advantage
  - Настроить подключение к PostgreSQL базе данных
  - Создать и выполнить первичные миграции базы данных
  - Написать seed скрипт для заполнения тестовыми данными
  - _Требования: 4.1, 4.2, 6.1, 3.1, 9.2_

- [ ] 3. Создание базового backend API
- [ ] 3.1 Настройка Express сервера с middleware



  - Создать основной Express приложение с CORS, helmet, morgan
  - Настроить middleware для валидации, обработки ошибок и аутентификации
  - Создать утилиту для подключения Prisma клиента
  - _Требования: 8.1, 9.1_

- [ ] 3.2 Реализация API endpoints для услуг и категорий
  - Создать контроллеры и роуты для Services API (GET /api/services, GET /api/services/categories)
  - Реализовать CRUD операции для услуг с Prisma запросами
  - Добавить валидацию входящих данных для создания/обновления услуг
  - _Требования: 4.1, 4.2, 4.3_

- [ ] 3.3 Реализация API endpoints для записей на прием
  - Создать контроллеры и роуты для Appointments API (POST /api/appointments)
  - Реализовать создание записи с валидацией и отправкой email уведомлений
  - Добавить получение и управление записями для админ панели
  - _Требования: 8.1, 8.2, 8.3_

- [ ] 3.4 Реализация API endpoints для контактов и преимуществ
  - Создать контроллеры для Contacts API и Advantages API
  - Реализовать получение активных контактов и преимуществ для фронтенда
  - Добавить CRUD операции для админ панели
  - _Требования: 6.1, 6.2, 3.1, 3.2, 9.2_

- [ ] 4. Создание Astro frontend структуры
- [ ] 4.1 Настройка Astro проекта с React интеграцией
  - Инициализировать Astro проект с React и Vite
  - Настроить CSS Modules и глобальные стили
  - Создать базовый Layout компонент с мета-тегами и SEO
  - _Требования: 10.1, 10.3_

- [ ] 4.2 Создание статических Astro компонентов
  - Реализовать Header.astro с навигацией и контактным телефоном
  - Создать Footer.astro с контактной информацией и ссылками
  - Реализовать Advantages.astro с сеткой из 4 карточек преимуществ
  - Создать Process.astro с пошаговой схемой исследования
  - _Требования: 1.1, 1.2, 3.1, 3.2, 5.1, 5.2, 5.3_

- [ ] 4.3 Создание гибридных секций (Astro + React острова)
  - Реализовать Hero.astro с заголовками и React каруселью
  - Создать Services.astro с React фильтрацией по категориям
  - Реализовать Contacts.astro с React картой и списком адресов
  - _Требования: 2.1, 2.2, 4.1, 4.2, 6.1, 6.2, 6.3_

- [ ] 5. Разработка интерактивных React компонентов
- [ ] 5.1 Создание компонента карусели
  - Реализовать Carousel.jsx с переключением слайдов и индикаторами
  - Добавить поддержку свайпов для мобильных устройств
  - Интегрировать с API для получения данных слайдов
  - _Требования: 2.2, 2.3, 7.2_

- [ ] 5.2 Создание модального окна записи
  - Реализовать Modal.jsx с формой записи на прием
  - Добавить валидацию полей и обработку ошибок
  - Интегрировать с Appointments API для отправки данных
  - Реализовать закрытие модального окна и управление состоянием
  - _Требования: 8.1, 8.2, 8.3, 8.4_

- [ ] 5.3 Создание интерактивной карты контактов
  - Реализовать ContactMap.jsx с интеграцией Google Maps или Яндекс.Карты
  - Добавить маркеры для всех адресов клиник
  - Реализовать взаимодействие между списком адресов и картой
  - _Требования: 6.2, 6.3_

- [ ] 5.4 Создание фильтра услуг по категориям
  - Реализовать ServiceFilter.jsx для переключения между категориями
  - Добавить динамическое отображение карточек услуг
  - Интегрировать с Services API для получения данных
  - _Требования: 4.1, 4.2, 4.3_

- [ ] 6. Реализация адаптивного дизайна
- [ ] 6.1 Создание мобильных стилей для всех компонентов
  - Адаптировать Header и Footer для мобильных устройств
  - Создать мобильную версию карточек преимуществ (вертикальная компоновка)
  - Адаптировать блок услуг и процесса для мобильных экранов
  - _Требования: 7.1, 7.3_

- [ ] 6.2 Оптимизация интерактивных элементов для мобильных
  - Адаптировать карусель для сенсорного управления
  - Оптимизировать модальное окно для мобильных экранов
  - Адаптировать карту и список контактов для мобильных устройств
  - _Требования: 7.2, 7.4, 7.5_

- [ ] 7. Создание простой админ панели
- [ ] 7.1 Настройка аутентификации для админ панели
  - Создать JWT аутентификацию с логином и паролем
  - Реализовать middleware для защиты админ роутов
  - Создать страницу входа в админ панель
  - _Требования: 9.1_

- [ ] 7.2 Создание интерфейса управления контентом
  - Создать Dashboard с навигацией по разделам управления
  - Реализовать редактор контента блоков (тексты, заголовки, изображения)
  - Добавить CRUD интерфейс для услуг и категорий
  - Создать CRUD интерфейс для преимуществ и контактов
  - Реализовать управление записями пациентов
  - Добавить загрузчик изображений с автоматической оптимизацией
  - _Требования: 9.2, 9.4, 9.5_

- [ ] 7.3 Реализация обновления контента в реальном времени
  - Настроить API endpoints для обновления контента блоков
  - Реализовать автоматическое обновление кеша Astro при изменениях
  - Добавить предварительный просмотр изменений перед сохранением
  - _Требования: 9.3_

- [ ] 8. Интеграция и тестирование
- [ ] 8.1 Настройка API интеграции между фронтендом и бэкендом
  - Создать API сервис в Astro для взаимодействия с backend
  - Настроить обработку ошибок и loading состояний
  - Протестировать все API endpoints с фронтенд компонентами
  - _Требования: 8.1, 8.2, 8.3_

- [ ] 8.2 Написание unit и integration тестов
  - Создать unit тесты для React компонентов с Vitest
  - Написать integration тесты для API endpoints с Jest
  - Добавить E2E тесты для основных пользовательских сценариев
  - _Требования: 2.3, 4.3, 6.3, 8.3_

- [ ] 9. Оптимизация производительности и SEO
- [ ] 9.1 Оптимизация загрузки и производительности
  - Настроить lazy loading для изображений и React компонентов
  - Оптимизировать размеры изображений и добавить WebP формат
  - Настроить кеширование статических ресурсов
  - _Требования: 10.2_

- [ ] 9.2 Настройка SEO и мета-тегов
  - Добавить динамические мета-теги и Open Graph разметку
  - Создать JSON-LD структурированные данные для медицинской организации
  - Настроить автоматическую генерацию sitemap
  - _Требования: 10.3_

- [ ] 10. Финальная интеграция и деплой
- [ ] 10.1 Настройка production окружения
  - Создать Docker контейнеры для production деплоя
  - Настроить Nginx для статических файлов и reverse proxy
  - Настроить переменные окружения для production
  - _Требования: 10.1, 10.2_

- [ ] 10.2 Финальное тестирование и оптимизация
  - Провести полное тестирование всех функций на production окружении
  - Выполнить Lighthouse аудит и оптимизировать производительность
  - Протестировать адаптивность на различных устройствах и браузерах
  - _Требования: 7.1, 7.2, 7.3, 7.4, 7.5, 10.2_